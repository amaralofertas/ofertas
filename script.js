const cupons = [
  {
    "tipo": "ml",
    "codigo": "MODAAQUINOMELI",
    "condicoes": "Novo Cupom Mercado Livre ðŸ’› 15% OFF ðŸš¨ Limite de R$ 100 Resgate aquiðŸ‘‡",
    "link": "https://mercadolivre.com/sec/2Z9KCQk"
  },
  {
    "tipo": "shopee",
    "codigo": "D3M7P5Q1XL",
    "condicoes": "Novo Cupom Shopee ! R$ 10,00 OFF em R$ 40,00 para todas as lojas Resgate aquiðŸ‘‡",
    "link": "https://s.shopee.com.br/1qQSP9GiRR"
  },
  {
    "tipo": "ml",
    "codigo": "L1P3PRM12",
    "condicoes": "Novo Cupom Mercado Livre 8% OFF, mÃ¡ximo de R$ 150 OFF Resgate aquiðŸ‘‡",
    "link": "https://mercadolivre.com/sec/2Z9KCQk"
  },
  {
    "tipo": "ml",
    "codigo": "M4RC3L15EL",
    "condicoes": "Novo Cupom Mercado Livre 15% OFF, mÃ¡ximo de R$ 80 OFF Resgate aquiðŸ‘‡",
    "link": "https://mercadolivre.com/sec/2Z9KCQk"
  },
  {
    "tipo": "shopee",
    "codigo": "W2B9U4T8EM",
    "condicoes": "Novo Cupom Shopee ! Cashback de 50%, atÃ© R$ 50,00 em Moedas de volta Resgate aquiðŸ‘‡",
    "link": "https://s.shopee.com.br/1qQSP9GiRR"
  },
  {
    "tipo": "shopee",
    "codigo": "PRIN20SHOPEE",
    "condicoes": "Novo Cupom Shopee ! ðŸš¨ Cupom Shopee ðŸ· R$ 20,00 OFF em R$ 59,00 em Produtos selecionados Resgate aquiðŸ‘‡",
    "link": "https://s.shopee.com.br/1qQSP9GiRR"
  },
  {
    "tipo": "shopee",
    "codigo": "4LAf0l6Rmt",
    "condicoes": "Novo Cupom Shopee ! R$ 100 OFF em R$ 899 Resgate aquiðŸ‘‡",
    "link": "https://s.shopee.com.br/1qQSP9GiRR"
  },
  {
    "tipo": "shopee",
    "codigo": "K2B9H1J7FW",
    "condicoes": "Novo Cupom Shopee ! ðŸ· R$ 10,00 OFF em compras de R$ 40,00 em todas as lojas Resgate aquiðŸ‘‡",
    "link": "https://s.shopee.com.br/1qQSP9GiRR"
  },
  {
    "tipo": "shopee",
    "codigo": "4LAf0l6Rmt",
    "condicoes": "Novo Cupom Shopee ! R$ 100 OFF em compras acima de R$ 899 Resgate aquiðŸ‘‡",
    "link": "https://s.shopee.com.br/1qQSP9GiRR"
  },
  {
    "tipo": "shopee",
    "codigo": "M8H0P5T2ZR",
    "condicoes": "Novo Cupom Shopee ! R$ 10,00 OFF em R$ 40,00 Resgate aquiðŸ‘‡",
    "link": "https://s.shopee.com.br/1qQSP9GiRR"
  },
  {
    "tipo": "shopee",
    "codigo": "M2E9H3R0VQ",
    "condicoes": "Novo Cupom Shopee ! R$ 20,00 OFF em compras de R$ 60,00 em todas as lojas Resgate aquiðŸ‘‡",
    "link": "https://s.shopee.com.br/1qQSP9GiRR"
  },
  {
    "tipo": "shopee",
    "codigo": "K7V9P3N1RWSHO",
    "condicoes": "Novo Cupom Shopee ! R$â€¯50,00 OFF Sem Valor mÃ­nimo! Resgate aquiðŸ‘‡",
    "link": "https://s.shopee.com.br/1qQSP9GiRR"
  },
  {
    "tipo": "shopee",
    "codigo": "SHOPEECANTOU50",
    "condicoes": "Novo Cupom Shopee ! ðŸ· R$ 50,00 OFF em R$ 249,00 Resgate aquiðŸ‘‡",
    "link": "https://s.shopee.com.br/1qQSP9GiRR"
  },
  {
    "tipo": "shopee",
    "codigo": "D7Q1L4N3GX",
    "condicoes": "Novo Cupom Shopee ! ðŸ· R$ 10,00 OFF em R$ 40,00 Resgate aquiðŸ‘‡",
    "link": "https://s.shopee.com.br/1qQSP9GiRR"
  },
  {
    "tipo": "shopee",
    "codigo": "J3F5S7B2XR",
    "condicoes": "Novo Cupom Shopee ! ðŸš¨ Cupom Shopee ðŸ· R$ 10,00 OFF em R$ 40,00 Resgate aquiðŸ‘‡",
    "link": "https://s.shopee.com.br/1qQSP9GiRR"
  },
  {
    "tipo": "shopee",
    "codigo": "ATACANTE25",
    "condicoes": "Novo Cupom Shopee ! R$â€¯25,00â€¯OFF em compras acima deâ€¯R$â€¯149,00 Resgate aquiðŸ‘‡",
    "link": "https://s.shopee.com.br/1qQSP9GiRR"
  },
  {
    "tipo": "ml",
    "codigo": "MELI11D11",
    "condicoes": "Novo Cupom Mercado Livre 25% OFF com limite mÃ¡ximo de R$â€¯40 Resgate aquiðŸ‘‡",
    "link": "https://mercadolivre.com/sec/2Z9KCQk"
  },
  {
    "tipo": "shopee",
    "codigo": "rossi25",
    "condicoes": "Novo Cupom Shopee ! ðŸ· R$ 25 OFF em R$ 150,00 Resgate aquiðŸ‘‡",
    "link": "https://s.shopee.com.br/1qQSP9GiRR"
  },
  {
    "tipo": "shopee",
    "codigo": "A8N9B4F3ZT",
    "condicoes": "Novo Cupom Shopee ! R$Â 10,00 OFF em compras de R$Â 40,00 em todas as lojas Resgate aquiðŸ‘‡",
    "link": "https://s.shopee.com.br/1qQSP9GiRR"
  },
  {
    "tipo": "shopee",
    "codigo": "M3LH0RPR3C0AF",
    "condicoes": "Novo Cupom Shopee ! Resgate aquiðŸ‘‡",
    "link": "https://s.shopee.com.br/1qQSP9GiRR"
  },
  {
    "tipo": "shopee",
    "codigo": "H0R8Z9W6TF",
    "condicoes": "Novo Cupom Shopee ! ðŸš¨ Cupom Shopee ðŸ· R$ 10,00 OFF em R$ 40,00 em todas as lojas Resgate aquiðŸ‘‡",
    "link": "https://s.shopee.com.br/1qQSP9GiRR"
  },
  {
    "tipo": "shopee",
    "codigo": "F3N2K8RJXG",
    "condicoes": "Novo Cupom Shopee ! ðŸ· R$ 50,00 OFF em R$ 120,00 Resgate aquiðŸ‘‡",
    "link": "https://s.shopee.com.br/1qQSP9GiRR"
  },
  {
    "tipo": "shopee",
    "codigo": "CADEIRA30OFF",
    "condicoes": "Novo Cupom Shopee ! ðŸ’› 30% ðŸš¨ Cupom Shopee ðŸ· 30% de Desconto com Limite de R$ 165 compra mÃ­nima de R$ 129 Resgate aquiðŸ‘‡",
    "link": "https://s.shopee.com.br/1qQSP9GiRR"
  },
  {
    "tipo": "shopee",
    "codigo": "FLA10N16QK7S4D",
    "condicoes": "Novo Cupom Shopee ! ðŸš¨ Cupom Shopee ðŸ· R$ 10,00 OFF Sem Valor mÃ­nimo Resgate aquiðŸ‘‡",
    "link": "https://s.shopee.com.br/1qQSP9GiRR"
  },
  {
    "tipo": "shopee",
    "codigo": "D7V3F1X2UZ",
    "condicoes": "Novo Cupom Shopee ! R$ 20,00 OFF em compra mÃ­nima de R$ 60,00 Resgate aquiðŸ‘‡",
    "link": "https://s.shopee.com.br/1qQSP9GiRR"
  },
  {
    "tipo": "shopee",
    "codigo": "L8N0Z6K1TP",
    "condicoes": "Novo Cupom Shopee ! ðŸ· R$ 10,00 OFF em R$ 40,00 Resgate aquiðŸ‘‡",
    "link": "https://s.shopee.com.br/1qQSP9GiRR"
  },
  {
    "tipo": "shopee",
    "codigo": "P2K4E3V7QG",
    "condicoes": "Novo Cupom Shopee ! R$ 10,00 OFF em R$ 40,00 Resgate aquiðŸ‘‡",
    "link": "https://s.shopee.com.br/1qQSP9GiRR"
  },
  {
    "tipo": "shopee",
    "codigo": "A5C8Z6T1XJ",
    "condicoes": "Novo Cupom Shopee ! ðŸš¨ Cupom Shopee ðŸ· R$ 20,00 OFF em R$ 60,00 Resgate aquiðŸ‘‡",
    "link": "https://s.shopee.com.br/1qQSP9GiRR"
  },
  {
    "tipo": "shopee",
    "codigo": "ALV4R0113SHO",
    "condicoes": "Novo Cupom Shopee ! ðŸ· R$Â 10,00 OFF em R$Â 40,00 Resgate aquiðŸ‘‡",
    "link": "https://s.shopee.com.br/1qQSP9GiRR"
  },
  {
    "tipo": "ml",
    "codigo": "DATADUPLA20",
    "condicoes": "Novo Cupom Mercado Livre 20% OFF limite R$150 Resgate aquiðŸ‘‡",
    "link": "https://mercadolivre.com/sec/2Z9KCQk"
  },
  {
    "tipo": "shopee",
    "codigo": "SUPLEMENTO10OFF",
    "condicoes": "Novo Cupom Shopee ! ðŸš¨ Cupom Shopee ðŸ· R$ 10,00 OFF em compras de R$ 90,00 Resgate aquiðŸ‘‡",
    "link": "https://s.shopee.com.br/1qQSP9GiRR"
  },
  {
    "tipo": "shopee",
    "codigo": "FLAJ25OYD97",
    "condicoes": "Novo Cupom Shopee ! R$ 10,00 OFF Sem Valor mÃ­nimo! Resgate aquiðŸ‘‡",
    "link": "https://s.shopee.com.br/1qQSP9GiRR"
  },
  {
    "tipo": "ml",
    "codigo": "CORREPROMELI",
    "condicoes": "Novo Cupom Mercado Livre ðŸ’› ðŸš¨ Cupom do Mercado Livre ðŸ· 18% de Desconto com Limite de R$60, 25% de Desconto com Limite de R$40, 15% de Desconto com Limite de R$60 ðŸ”— Em todos produtos Resgate aquiðŸ‘‡",
    "link": "https://mercadolivre.com/sec/2Z9KCQk"
  },
  {
    "tipo": "shopee",
    "codigo": "NACAO50",
    "condicoes": "Novo Cupom Shopee ! R$ 50,00 OFF em R$ 250,00 Resgate aquiðŸ‘‡",
    "link": "https://s.shopee.com.br/1qQSP9GiRR"
  },
  {
    "tipo": "shopee",
    "codigo": "LAVADORA25OFF",
    "condicoes": "Novo Cupom Shopee ! ðŸš¨ Cupom Shopee ðŸ· 25% OFF com limite de atÃ© R$ 225,00 em compras acima de R$ 500,00 Resgate aquiðŸ‘‡",
    "link": "https://s.shopee.com.br/1qQSP9GiRR"
  },
  {
    "tipo": "ml",
    "codigo": "3SP3C1T1",
    "condicoes": "Novo Cupom Mercado Livre 8% OFF mÃ¡ximo de R$150, 20% OFF limite de R$150, 15% OFF mÃ¡ximo de R$50, 25% OFF mÃ¡ximo de R$40 Resgate aquiðŸ‘‡",
    "link": "https://mercadolivre.com/sec/2Z9KCQk"
  },
  {
    "tipo": "shopee",
    "codigo": "P4NTERA11SH0",
    "condicoes": "Novo Cupom Shopee ! R$ 10,00 OFF em R$ 40,00 Resgate aquiðŸ‘‡",
    "link": "https://s.shopee.com.br/1qQSP9GiRR"
  },
  {
    "tipo": "ml",
    "codigo": "NV11FFN4",
    "condicoes": "Novo Cupom Mercado Livre ðŸ’› 35% ðŸš¨ Cupom Mercado Livre ðŸ· 35% de Desconto com Limite de R$ 60 Resgate aquiðŸ‘‡",
    "link": "https://mercadolivre.com/sec/2Z9KCQk"
  },
  {
    "tipo": "shopee",
    "codigo": "N6J3XZQ0FW",
    "condicoes": "Novo Cupom Shopee ! Cashback de 50%, atÃ© R$ 50,00 em Moedas de volta para TODAS AS LOJAS Resgate aquiðŸ‘‡",
    "link": "https://s.shopee.com.br/1qQSP9GiRR"
  },
  {
    "tipo": "shopee",
    "codigo": "T6B1C8N9YR",
    "condicoes": "Novo Cupom Shopee ! ðŸ· R$10,00 OFF em compra mÃ­nima de R$40,00 em todas as lojas Resgate aquiðŸ‘‡",
    "link": "https://s.shopee.com.br/1qQSP9GiRR"
  },
  {
    "tipo": "shopee",
    "codigo": "FLAJ2M1SA6",
    "condicoes": "Novo Cupom Shopee ! R$Â 25,00 OFF Sem Valor mÃ­nimo Resgate aquiðŸ‘‡",
    "link": "https://s.shopee.com.br/1qQSP9GiRR"
  },
  {
    "tipo": "shopee",
    "codigo": "H8D7Y5C2BR",
    "condicoes": "Novo Cupom Shopee ! ðŸš¨ Cupom Shopee ðŸ· Cashback de 50% atÃ© R$ 50,00 em Moedas de volta Resgate aquiðŸ‘‡",
    "link": "https://s.shopee.com.br/1qQSP9GiRR"
  }
];

window.mostrarCupons = function(tipo){
  const container = document.getElementById('container-cupom');
  container.innerHTML = '';
  cupons.filter(c => c.tipo === tipo).forEach(c => {
    const div = document.createElement('div');
    div.className = 'cupom';
    const ultimos = c.codigo.slice(-4);
    const titulo = c.tipo === 'ml' ? 'Mercado Livre' : 'Shopee';
    div.innerHTML = '<h3>' + titulo + '</h3>' +
                    '<div class="cupom-tampado">**** **** **** ' + ultimos + '</div>' +
                    '<div class="condicoes">' + c.condicoes + '</div>' +
                    '<button class="btn ' + c.tipo + '-btn">Revelar e Copiar Cupom</button>';
    const btn = div.querySelector('button');
    btn.addEventListener('click', () => {
      const cupomDiv = div.querySelector('.cupom-tampado');
      cupomDiv.textContent = c.codigo;
      navigator.clipboard.writeText(c.codigo).then(() => {
        btn.textContent = 'Cupom Copiado!';
        btn.disabled = true;
        window.explosaoConfete(div);
        setTimeout(() => { window.location.href = c.link; }, 1000);
      });
    });
    container.appendChild(div);
  });
};

window.explosaoConfete = function(card){
  for(let i=0;i<40;i++){
    const confete = document.createElement('div');
    confete.className = 'confete';
    confete.style.left = Math.random() * card.offsetWidth + 'px';
    confete.style.top = '0px';
    confete.style.width = confete.style.height = (Math.random()*8 + 5) + 'px';
    confete.style.background = 'hsl(' + (Math.random()*360) + ',100%,50%)';
    card.appendChild(confete);
    const rot = Math.random()*720;
    confete.animate([
      { transform: 'translateY(0px) rotate(0deg)', opacity:1 },
      { transform: 'translateY(' + (card.offsetHeight+100) + 'px) rotate(' + rot + 'deg)', opacity:0 }
    ], { duration: 1000 + Math.random()*500, easing: 'ease-out' });
    setTimeout(()=> confete.remove(), 1500);
  }
};

